{"version":3,"sources":["components/Houses/Houses.js","components/Funds/Funds.js","components/DetailView/Quandl/Quandl.js","components/DetailView/DetailView.js","components/Navbar/Navbar.js","components/SearchCapsule/SearchCapsule.js","components/DataLoader/DataLoader.js","App.js","index.js"],"names":["Houses","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","selectNewHouse","e","action","console","log","state","funds","_this2","react_default","a","createElement","className","children","map","child","onClick","bind","key","offers","React","Component","Fund","loading","setState","fNameDetails","fund","split","nav","Funds","selectNewfund","_this3","Funds_Fund","ReactHighcharts","require","Quandl","options","global","useUTC","title","text","series","data","qData","dataset","reverse","chart","height","credits","enabled","xAxis","type","RedrawOnPrint_default","config","lib_default","color","DView","getQuandlData","fundcode","fetch","then","response","json","catch","error","fundnowcode","prevProps","house","replace","fundnow","Quandl_Quandl_Quandl","Navbar","role","aria-label","href","SCDropDown","handleChange","target","value","onChange","SearchCapsule","searchText","selection","action2","ddChange","onSubmit","handleSubmit","SearchCapsule_SCDropDown","placeholder","DataLoader","foobar","readline","AMFI","filter","match","houses","toConsumableArray","Set","item","fhouses","nested","fundnc","housenow","houseHandler","houseByhouse","fundsinhouse","push","datafromchild","ffunds","filterdata","el","toLowerCase","rgx","RegExp","fh","i","length","test","filterfunds","ff","fundHandler","query","Navbar_Navbar","SearchCapsule_SearchCapsule_SearchCapsule","Houses_Houses_Houses","Funds_Funds_Funds","DetailView_DView","App","DataLoader_DataLoader","ReactDOM","render","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.c7445012.chunk.js","sourcesContent":["import React from 'react';\nimport './Houses.css';\n\nexport default class Houses extends React.Component{\n\n  constructor(props){\n    super(props)\n    this.state = {\n      funds : []\n    }\n  }\n  \n  selectNewHouse = (e) => {\n        this.props.action(e)\n        console.log(e)\n  }\n\n  render(){ \n        return(\n              <div className='houses'>\n                  {this.props.children.map((child)=>\n                   <div onClick={this.selectNewHouse.bind(this, child)}//perf isssue? \n                        key={child} \n                        className='house box'>\n                        {child} <br/> \n                        <p className='tag is-light'>{this.props.offers}</p>\n                   </div>)}\n              </div>\n            )\n  }\n}","import React from 'react';\nimport './Funds.css';\n\nclass Fund extends React.Component\n{ \n  constructor(props){\n    super(props)\n    this.state={\n      loading: true\n    }\n  }\n\n  componentDidMount(){\n    this.setState({loading: false})\n  }\n\n  render()\n  {    \n    const fNameDetails = this.props.fund[0][3].split('-');\n    const nav = this.props.fund[0][4]\n    return(\n          <div className=\"fund box\" onClick={this.props.action}>\n                <p className=\"NAV\">\n                  <span>{nav}</span>\n                </p>\n            <h4>{fNameDetails[0]}</h4>\n            <h3 className=\"tag is-warning\">{fNameDetails[1]}</h3><br/>\n            <h3 className=\"tag is-success\">{fNameDetails[2]}</h3>\n          </div>            \n        )\n  }\n}\n\nexport default class Funds extends React.Component{    \n  \n     selectNewfund = (e) => {\n       this.props.action(e)\n    }\n  \n    render(){      \n\n      // --------------------------------------------------------//\n      // const fundlist = this.props.fih.map((fund)=>\n      //     <div key={uuidv4()} onClick={this.selectNewfund} >\n      //         <Fund fund={fund}/>\n      //     </div>);\n\n\n      return(\n            <div className=\"funds\">\n                {  this.props.children.map((child)=>\n                   <Fund   key={child} \n                           fund={child} action={this.selectNewfund.bind(this, child)} /> )\n                }\n            </div>\n        )\n    }\n}","import React from 'react'\nimport './Quandl.css'\n\n\nimport RedrawOnPrint from 'react-highcharts/dist/RedrawOnPrint';\nimport ReactSpinner from 'react-spinjs-fix';\nconst ReactHighcharts = require('react-highcharts'); \n\n\nexport default class Quandl extends React.Component{  \n  render(){\n    const options = { \n      global: {useUTC: false},\n      title:{text:\"Performance\"},\n      series:[{data: this.props.qData.dataset.data.reverse()}],\n      chart: {height: \"60%\"},\n      credits:{enabled:false},\n      xAxis:{type:'datetime'}\n    }\n\n    return (\n      <div>\n      {\n        this.props.qData !== null ?\n          <RedrawOnPrint>\n            <ReactHighcharts config={options}></ReactHighcharts> \n          </RedrawOnPrint>\n          :\n          <ReactSpinner color=\"green\"/>\n      }\n      </div>\n    )\n  }\n}","import React from 'react'\nimport Quandl from './Quandl/Quandl'\nimport './DetailView.css'\nrequire('dotenv').config()\n\n\nexport default class DView extends React.Component{\n  state = {qData: null, loading: false}\n\n\n  componentDidMount(){\n    this.getQuandlData(this.props.fundnowcode);\n  }\n\n  componentDidUpdate(prevProps){\n    if(this.props.fundnowcode !== prevProps.fundnowcode){ \n      this.getQuandlData(this.props.fundnowcode)\n    }\n  }\n  \n  getQuandlData = fundcode => {\n    this.setState({loading: true})    \n    if(fundcode != null){\n      console.log('Getting Quandl data...')\n      const URL = 'https://www.quandl.com/api/v3/datasets/AMFI/'+fundcode+'?api_key='+process.env.REACT_APP_Q\n      //TODO: PUT API KEY IN \n\n      fetch(URL)\n        .then(response => response.json())\n        .then(data => {\n          console.log(data) // Prints result from `response.json()` in getRequest\n          this.setState({qData: data, loading:false})\n        })\n        .catch(error => console.error(error))        \n    }\n  }\n  \n  render(){\n    return(\n      <div className=\"dview\">\n        <section className=\"hero\">\n          <div className=\"hero-body\">\n            <div className=\"container\">\n              <p className=\"title\">\n                {this.props.house.replace('Mutual Fund', '')}\n              </p>\n              <p className=\"detail\">\n                {this.props.fundnow.split('-')[0]}\n              </p>\n            </div>\n          </div>\n        </section>\n        <div className=\"chart\">\n          {\n              this.state.qData !== null \n              ? \n              <Quandl qData={this.state.qData} \n                      loading={this.state.loading}/>\n              : \n              \"No fund selected\"\n          }\n        </div>\n      </div>\n    )\n  }\n}","import React from 'react'\n\nexport default class Navbar extends React.Component{\n  render(){\n    return(\n      <nav className=\"navbar is-transparent is-fixed-top\" role=\"navigation\" aria-label=\"main navigation\">\n        <div className=\"navbar-brand\">\n          <a className=\"navbar-item\" href=\"https://surajsharma.github.io\">\n            <h2 className=\" is-white is-large tag\">AMFII DASHBOARD</h2>\n          </a>\n        </div>\n      </nav>\n      )\n  }\n}","import React from 'react';\nimport './SearchCapsule.css'\n\nclass SCDropDown extends React.Component{\n  handleChange = e => {\n    this.props.action(e.target.value)\n  }  \n    render(){\n        return(\n            <div className=\"DropDownStyle\">\n                <select onChange={this.handleChange} className=\"SCDropDown\">\n                    <option>Fund Houses</option>\n                    <option>Funds</option>\n                </select>\n            </div>\n        )\n    }\n}\n\nexport default class SearchCapsule extends React.Component{\n    state = {\n        searchText:'search..',\n        selection:'Fund Houses'\n    }\n\n    handleChange = e =>{\n      this.state.selection === 'Fund Houses' ? \n        this.props.action(e.target.value) :\n      this.props.action2(e.target.value)\n    }\n    \n    ddChange = e =>{\n      console.log(e)\n      this.setState({selection:e});\n    }\n\n    render()\n    {\n        return (\n                <div className=\"SearchCapsule\">\n                   <form onSubmit={this.handleSubmit}>\n                       <SCDropDown action={this.ddChange}/>\n                       <input\n                            placeholder={this.state.searchText}\n                            onChange={this.handleChange}\n                            type=\"text\"/>\n                    </form>\n                </div>\n            )\n    }\n}","import React from 'react'\nimport Houses from '../Houses/Houses'\nimport Funds from '../Funds/Funds'\nimport DView from '../DetailView/DetailView'\nimport Navbar from '../Navbar/Navbar'\nimport SearchCapsule from '../SearchCapsule/SearchCapsule'\nimport ReactSpinner from 'react-spinjs-fix';\n\nexport default class DataLoader extends React.Component{\n\n  constructor(props){\n    super(props)    \n    this.state = {\n      data: [],\n      houses: [],\n      fhouses: [],\n      funds: [],\n      ffunds:[],\n      fundsinhouse:[],\n      housenow: 'Aditya Birla Sun Life Mutual Fund',\n      query: '',\n      fundnow: null,\n      fundnc: null,\n      loading: true\n    }\n  }  \n  \n  componentDidMount(){\n    this.foobar()\n    //foobar -> readline -> househandler\n  }\n  \n  foobar = () => {\n    fetch(\"https://cors-anywhere.herokuapp.com/https://www.amfiindia.com/spages/NAVAll.txt\")\n    .catch(error => console.error(error))\n    .then(data => \n          console.log((data.text()\n            .then((text) => {\n                  data = this.readline(text);\n    }))))\n  }  \n  \n  readline = (data) => {\n    let AMFI = data.split(\"\\n\")\n    let funds = \n        AMFI.filter(fund => fund.match(/(\\d{6}).+/g) != null)\n        .map(fund => fund.match(/(\\d{6}).+/g))\n    let houses = \n        AMFI.filter(house => house.match(/Mutual Fund[\\n\\r]/g) != null)\n        .map(house => house.match(/.+Mutual Fund[\\n\\r]/g))\n    let json = [];\n\n    houses = [...new Set(houses.map(item => item[0]))]  \n    this.setState({houses:houses, fhouses:houses})\n\n    funds = funds.map(nested => nested.map(fund => fund.split(';')));\n\n    this.setState({funds: funds, loading:false, fundnow:funds[0][0][3], fundnc:funds[0][0][0]})\n    console.log(this.state.fundnc, this.state.fundnow, this.state.housenow);\n    \n    this.houseHandler(this.state.housenow)\n    return json\n  }  \n  \n  houseByhouse = (house, funds, json) => {\n    let data = [];\n    let fundsinhouse = \n        funds.filter((fund)=>house.split(' ')[0]===fund[0][3].split(' ')[0]);\n    \n    data.push({\"house\":house, \"funds\":fundsinhouse})\n    json.push(data)\n  } \n  \n  houseHandler = (datafromchild) => {\n    let fundsinhouse = \n        this.state.funds.filter((fund)=>datafromchild.split(' ')[0]===fund[0][3].split(' ')[0]);\n\n    this.setState({\n      housenow: datafromchild,\n      fundsinhouse: fundsinhouse,\n      ffunds: fundsinhouse,\n      fundnow:fundsinhouse[0][0][3],\n      fundnc:fundsinhouse[0][0][0]\n    })\n\n    // console.log('houseHandler: ', fundsinhouse[0][0][3], this.state.fundsinhouse.length)\n  }\n\n  filterdata = (e) => {\n    let el = e.toLowerCase()\n    let rgx = RegExp(el,'g');\n    let fh = []\n    \n    for(let i=0; i<this.state.houses.length; i++){\n      if(rgx.test(this.state.houses[i].toLowerCase())){\n        fh.push(this.state.houses[i])\n      }\n    }\n    \n    // const fh = this.state.houses.filter((house)=>\n    //            house.toLowerCase().indexOf(el)===0);\n    \n    this.setState({fhouses:fh});    \n  }\n  \n  filterfunds = e => {\n    let el = e.toLowerCase()\n    let rgx = RegExp(el,'g');\n    let ff = []\n    \n    for(let i=0; i<this.state.fundsinhouse.length; i++){\n      if(rgx.test(this.state.fundsinhouse[i][0][3].toLowerCase())){\n        ff.push(this.state.fundsinhouse[i])\n      }\n    }\n    \n    this.setState({ffunds:ff});\n  }\n  \n  fundHandler = e => { \n    console.log(e[0])\n    this.setState({\n      fundnow: e[0][3],\n      fundnc: e[0][0]\n    })\n    console.log('fundHandler')\n  }\n\n  render(){ \n    return(\n      <div>\n        <Navbar className=\"navbar\"/>\n        <SearchCapsule action={this.filterdata} action2={this.filterfunds}/> \n        {\n         this.state.loading ? <ReactSpinner color=\"green\"/> :\n          <div>\n            <div className='appContainer'>\n              <div className='columns is-desktop'>         \n                <div className=\"column is-3\">\n                  <Houses   action={this.houseHandler} \n                            funds={this.state.funds} \n                            offers={this.state.fundsinhouse.length}>\n                    {this.state.fhouses}\n                  </Houses>          \n                </div>\n                <div className=\"column is-4\">\n                  <Funds action={this.fundHandler}>\n                      {this.state.ffunds}\n                  </Funds>          \n                </div>\n                <div className=\"column is-5\" >\n                  <DView className=\"dview\" \n                         house={this.state.housenow} \n                         fundnow={this.state.fundnow}\n                         fundnowcode={this.state.fundnc} \n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n        }\n      </div>\n    )  \n  }\n}","import React from 'react';\nimport './App.css';\nimport DataLoader from './components/DataLoader/DataLoader.js';\n\nexport default class App extends React.Component{\n  render(){return(<DataLoader/>)}\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App/>,document.getElementById('root'));"],"sourceRoot":""}